providers = ["node", "python"]

[phases.install]
 # We use --include=dev to ensure the 'typescript' package is actually installed
cmds = ["npm install --include=dev"]

[phases.build]
 # We add '--project .' to tell tsc to use your tsconfig.json in the current folder
cmds = [
  "npx -p typescript tsc --project .",
  "python -m venv /opt/venv && . /opt/venv/bin/activate && pip install -r requirements.txt"
]

[start]
cmd = "node dist/index.js gateway start"