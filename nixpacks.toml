providers = ["node", "python"]

[phases.install]
 # Force npm to install EVERYTHING including devDependencies (like typescript)
cms = ["npm install --include=dev"]

[phases.build]
 # Use 'npx' to ensure it finds the local 'tsc' binary
cmds = [
  "npx tsc",
  "python -m venv /opt/venv && . /opt/venv/bin/activate && pip install -r requirements.txt"
]

[start]
cmd = "node dist/index.js gateway start"