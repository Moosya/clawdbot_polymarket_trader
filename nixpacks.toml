providers = ["node", "python"]

[phases.install]
 # We use --include=dev to ensure the 'typescript' package is actually installed
cmds = ["npm install --include=dev"]

[phases.build]
 # Use npx -p typescript tsc to force the correct package usage
cmds = [
  "npx -p typescript tsc",
  "python -m venv /opt/venv && . /opt/venv/bin/activate && pip install -r requirements.txt"
]

[start]
cmd = "node dist/index.js gateway start"